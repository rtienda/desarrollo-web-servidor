<!DOCTYPE html>
<html lang="es">

<!--
HTML
web o pagina: Ejercicios Unidad 4 - Diseño de Interfaces Web
autor: Prof. Carlos Boni
fecha: Febrero 2021
-->

<head>
	<title>2DAW-DIW-UD4. Prof.Carlos Boni</title>
	<meta charset="UTF-8"/>
	<link rel="stylesheet" href="00-modelo.css"/>
	<style>
	/* aquí estilos aplicados solo a esta pagina */
	body {
		background-color: rgba(0, 0, 128, 0.1); /* Azul al 10% */
		color: black;
	}
	</style>
</head>


<body>

	<header>
	<h1>Ejercicios Unidad 4 - Diseño de Interfaces Web</h1>
	<h2>Elementos Multimedia: CANVAS con JavaScript</h2>
	<h3>Cargar una imagen desde una URL</h3>
	<br/>
	</header>
	
	<main>
	<!-- bloque de contenido de la pagina -->
		
		<!-- añadimos un area donde dibujar, con fondo claro para que se note -->
		<p>Canvas:</p>
		<canvas id="miCanvas" width="140" height="80" style="background-color:gainsboro;">
		Su navegador no soporta la etiqueta CANVAS de HTML5.
		</canvas>
		
	</main>


	<!-- pie de pagina -->
	<footer>
	<br/><br/><br/>
	<div><a href="https://carlosboni.com" target="_blank">Prof. Carlos Boni</a></div>
	</footer>
	<script>
	// seccion de codigo javascript 
		// no ejecuta hasta no cargar el DOM de la pagina
		window.onload = function() {
		  var lienzo = document.getElementById("miCanvas");
		  var dibujo = lienzo.getContext("2d");
		  
		  var logo = new Image();
		  logo.onload = function() {
			// lo siguiente se podría hacer responsive calculando ancho y alto
			// y además se podría mantener el ratio de la imagen original si lo 
			// averiguamos al cargar la imagen.
			var ancho=logo.width;
			var alto=logo.height;
			var ratio=ancho/alto;
			alert ('La imagen original tiene '+ancho+' de ancho y '+alto+' de alto, con un ratio de '+ratio);
			// EJERCICIO 1 en clase: que la imagen encaje en el canvas sin perder su ratio.
			// EJERCICIO 2 en clase: adaptar el tamaño del canvas al de la imagen sin que pierda ésta su ratio.
			// EJERCICIO 3 en clase: Idem Ej.2, pero limitando a un canvas de 600x400 sin perder el ratio.
			// PARA EL PROYECTO FINAL: El ejercicio 3 permitiendo elegir 3 imágenes al usuario, partiendo de un 
			// canvas de 300x200.
			// añade al lienzo el logo elegido pero forzando el ancho y alto
			dibujo.drawImage(logo, 10, 10,100,60);
			// añade al lienzo un recuadro verde
			dibujo.strokeStyle = "green";
			dibujo.strokeRect(10, 10, 120, 60);
		  };
		  // establece cuál es la imagen a utilizar
		  logo.src = 'https://www.red.es/redes/sites/redes/files/cabecera_1.png';
		  
		}
	</script>
</body>
</html>
